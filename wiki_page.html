<!DOCTYPE html>
<html lang="en">
	<head>
		<!--Set a defualt character-->
		<meta charset="utf-8">
		<!--This meta tag scales the page on mobile-->
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
		<!--Title of the website-->
		<title>Yeetipedia</title>
		<!--This is a link to the bootstrap css file-->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<!--This is the link to the CSS styles that will run on this page-->
		<link rel="stylesheet" href="wiki_page_styles.css">
		<!--This is the link to the scripts that will run on this page-->
		<script src = "scripts.js"></script>
		<!--This font has the icons for social media-->
		<script src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
		<!--This is the link to the JQuery Library
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>-->
	</head>

	<body>
		<!--This script will get all information that needs to be loaded on the page-->
		<script>
			var index, section_title, section_header_text, section_text, i;
			var contents_info = "", section_info = "", page_title = "", page_info = "";

			var xmlhttp = new XMLHttpRequest();
			xmlhttp.onreadystatechange = function()
			{
				if (this.readyState == 4 && this.status == 200)
				{
					var page = JSON.parse(this.responseText);
					for (i in page.sections)
					{
						index = page.sections[i].index;
						section_title = page.sections[i].section_title;
						section_text = page.sections[i].section_text;
						contents_info +=
							`<li id="contents_li${index}">
								<span id="contents_span${index}">
									<a id="contents_href${index}}" href="#section_header${index}">${section_title}</a>
								</span>
							</li>`;
						section_info +=
							`<header id="header${index}">
								<h2 id="section_header${index}" class="edit_section">${section_title}</h2>
								<input id="edit_button${index}" class="edit_button user_member user_admin_exec" type="button" value="edit" onclick="editSection(${index})" style="display:none;"/>
							</header>
							<div id="div${index}">
								<p id="p${index}" class="edit_section">${section_text}</p>
							</div>`;
						document.getElementById("content_list").innerHTML = contents_info;
						document.getElementById("main_content").innerHTML = section_info;
					}
					page_title += page.page_title;
					page_info += page.page_information;
					document.getElementById("main_header").innerHTML = page_title;
					document.getElementById("main_header_section").innerHTML = page_info;
				}
			};
			xmlhttp.open("GET", "page_test.JSON", true);
			xmlhttp.send();
		</script>

		<!--Navigation-->
			<!--navbar-expand-md-->
				<!--md is the breakpoint that changes from mobile navigation to the expanded full width navigation-->
			<!--navbar-light--><!--bg-light-->
				<!--light is bootstraps navigation with a white background and dark navigation item text-->
			<!--sticky-top-->
				<!--We are using sticky navigation instead of fixed navigation-->
		<nav id="top_banner" class="navbar navbar-expand-md navbar-light bg-light sticky-top">
			<!--First divider-->
				<!--container-fluid-->
					<!--fluid will make sure it takes up 100% of the screen-->
			<div class="container-fluid">
				<!--Add the logo-->
					<!--navbar-brand-->
						<!--Specifies that this will be a logo-->
				<a class="navbar-brand" href="#">
					<img src="img/yeetipedia_logo_crop.png">
				</a>
				<!--data-toggle="collapse"-->
					<!--Will collapse and uncollapse the navbar-->
				<!--#navbarResponsive-->
					<!--Makes the navbar responsive-->
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarResponsive">
					<!--ml-auto-->
						<!--Will push the navigation button off to the side if the screen size is big enough-->
					<ul class="navbar-nav ml-auto">
						<!--active-->
							<!--makes one of the buttons darker-->
						<li class="nav-item active">
							<a id="banner_home_button" class="nav-link" href="home.html">Home</a>
						</li>
						<li class="nav-item">
							<a id="table_of_contents" class="nav-link" href="contents.html">Table of Yeets</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="app.html">Yeet the App</a>
						</li>
						<li class="nav-item">
							<a id="login_button" class="nav-link" href="login.html">Yeet In</a>
						</li>
						<li class="nav-item">
							<a id="signup_button" class="nav-link" href="signup.html">Become a Yeeter</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<!--Header-->
		<div class="main_body container-fluid">
				<!--Max columns is 12. If you make 9 columns then 3 will be left over.-->
				<!--Here, on smalls screens like phones the title should go all the way across the page-->
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9 col-xl-10">
					<!--<p class="display-4">
						Title of the current page
					</p>-->
					<!--This is the part that will make the body section editable using the "contenteditable" attribute-->
					<!--The ID attribute is for the javascript function -->
					<header>
						<h1 id="main_header" class="edit_header"></h1>
						<input id="edit_button" class="user_member user_admin_exec" type="button" value="edit" onclick="editHeader()" style="display:none;"/>
					</header>
					<div>
						<p id="main_header_section" class="edit_header"></p>
					</div>
				</div>

				<div id="contents_box" class="card">
					<div class="container">
						<h3 id="contents">Contents</h3>
					</div>
					<ol id="content_list">
						<!-- Content List Layout (# = Section number)
						<li id="contents_li#"">
							<span id="contents_span#">
								<a id="contents_href#" href="#section_header#" >
									Section Title
								</a>
							</span>
						</li>
					-->
					</ol>
				</div>

				<div id="main_content">
					<!-- Content Layout (# = Section number)
					<header id="header#">
						<h2 id="section_header#" class="edit_section">
							Section Header
						</h2>
						<input id="edit_button#" class="edit_button user_member user_admin_exec" type="button" value="edit" onclick="editSection(#)" style="display:none;"/>
					</header>
					<div id="div#">
						<p id="p#" class="edit_section">
							New Section Content
						</p>
					</div>
					-->
				</div>

				<div>
					<!--Add a button to call the JavaScript to save the users edits-->
					<input id="save_button" class="save_button" type="button" value="Save Changes" onclick="saveEdits()" style="display:none;"/>
					<!--Add a button to call the JavaScript to delete sections-->
					<input id="remove_section_button" class="remove_section_button" type="button" value="Remove Section" onclick="delete_section()" style="display:none;"/>
				</div>

				<!--Once the user edited the element they can press this button to save their changes.-->
				<!--Also include an element that provides confirmation that the changes have been saved-->
				<div  id="update" class="container" style="display:none;">
				</div>

				<div>
					<input id="add_section_button" class="user_member user_admin_exec" type="button" value="Add New Section" onclick="create_new_section()" style="display:none;"/>
				</div>
		</div>

		<!--Footer-->
		<footer>
			<div class="container-fluid padding">
				<div class="row text-center">
					<div class="col-md-12">
						<hr class="light">
						<p>Phone number</p>
						<p>Email</p>
					</div>
				</div>
			</div>
		</footer>

		<!--This form is for simulating user classifications-->
		<form name="form1" class="main_body">
			<div>
				<span>
					This selection simulates the value passed from the server. When changed the elements with the matching classes are shown or hidden.
				</span>
			</div>
			<p>
				<span>
					<input type="radio" class="serverVal" id="usrType1"  name="usrType" value=".user_normal" checked="1" onclick="permissions('user_normal')" />
					<label for="usrType1">
						Normal User
					</label>
				</span>
				<span>
					<input type="radio" class="serverVal" id="usrType2"  name="usrType" value=".user_member" onclick="permissions('user_member')"/>
					<label for="usrType2">
						Member
					</label>
				</span>
				<span>
					<input type="radio" class="serverVal" id="usrType3"  name="usrType" value=".user_admin_exec" onclick="permissions('user_admin_exec')"/>
					<label for="usrType3">
						Admin/Exec
					</label>
				</span>
			</p>
		</form>

		<!--Other Links for bootstrap-->
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>
